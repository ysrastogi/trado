# Optimized Algorithm Parameters Configuration
#
# This file stores hyperparameters optimized through multi-scenario testing.
# Generated by the Scenario Optimizer CLI.
#
# Usage:
#   - Load this configuration to apply optimized parameters to algorithms
#   - Parameters are organized by algorithm name
#   - Each entry includes the optimized values and optimization metadata
#
# To use optimized parameters:
#   import yaml
#   with open('config/optimized_algorithm_params.yaml', 'r') as f:
#       params = yaml.safe_load(f)
#   algo_params = params['optimized_parameters']['SlowMovingAverage']['parameters']
#   algorithm = SlowMovingAverageAlgorithm(symbols=['BTC-USD'], **algo_params)

optimized_parameters:
  
  # Slow Moving Average Algorithm
  # Optimized for long-term trend identification with low false signal rate
  SlowMovingAverage:
    parameters:
      period: 50                              # SMA period (candles)
      sma_band_pct: 0.02                      # 2% band around SMA for entry/exit
      confidence_delta_threshold: 0.1         # Minimum confidence increase for signal
      min_signal_interval_seconds: 60         # Minimum time between signals
      min_len_for_slope: 1                    # Minimum candles for slope calculation
      eps_scale: 1.0e-8                       # Numerical stability guard
    
    optimization_metadata:
      method: "bayesian"                      # Optimization method used
      num_evaluations: 30                     # Number of parameter combinations tested
      best_score: 0.0                         # Best aggregate score achieved
      optimization_date: "pending"            # Date when optimization was run
      scenarios_tested: []                    # List of scenarios used for optimization
    
    performance_notes: |
      This configuration is optimized for:
      - Strong trending markets (uptrend/downtrend)
      - Low volatility environments
      - Minimizing false signals in ranging markets
  
  # MACD Momentum Algorithm
  # Optimized for momentum-based trend detection with divergence analysis
  MacdMomentum:
    parameters:
      fast_period: 12                         # Fast EMA period
      slow_period: 26                         # Slow EMA period
      signal_period: 9                        # Signal line EMA period
      confidence_delta_threshold: 0.15        # Minimum confidence increase for signal
      min_signal_interval_seconds: 60         # Minimum time between signals
      divergence_window: 20                   # Window for divergence detection
      min_divergence_threshold: 0.02          # Minimum divergence threshold
      eps_scale: 1.0e-8                       # Numerical stability guard
    
    optimization_metadata:
      method: "bayesian"
      num_evaluations: 30
      best_score: 0.0
      optimization_date: "pending"
      scenarios_tested: []
    
    performance_notes: |
      This configuration excels at:
      - Identifying momentum shifts early
      - Detecting bullish/bearish divergences
      - Trend reversal scenarios
  
  # SuperTrend Algorithm
  # Optimized for ATR-based trailing stops with trend following
  Supertrend:
    parameters:
      period: 10                              # ATR period
      multiplier: 3.0                         # ATR multiplier for bands
      confirmation_bars: 1                    # Bars required for signal confirmation
      min_signal_interval_seconds: 60         # Minimum time between signals
      confidence_delta_threshold: 0.1         # Minimum confidence increase for signal
      eps_scale: 1.0e-8                       # Numerical stability guard
    
    optimization_metadata:
      method: "bayesian"
      num_evaluations: 30
      best_score: 0.0
      optimization_date: "pending"
      scenarios_tested: []
    
    performance_notes: |
      Optimized for:
      - Strong trending markets
      - Breakout patterns
      - High volatility conditions with robust stops
  
  # ADX Trend Algorithm  
  # Optimized for trend strength identification and direction
  AdxTrend:
    parameters:
      period: 14                              # ADX calculation period
      strong_trend_threshold: 25.0            # Threshold for strong trend
      moderate_trend_threshold: 20.0          # Threshold for moderate trend
      min_signal_interval_seconds: 60         # Minimum time between signals
    
    optimization_metadata:
      method: "bayesian"
      num_evaluations: 30
      best_score: 0.0
      optimization_date: "pending"
      scenarios_tested: []
    
    performance_notes: |
      Best performance in:
      - Trend strength assessment
      - Avoiding whipsaw markets
      - High volatility regime detection
  
  # EMA Crossover Algorithm
  # Optimized for fast trend change detection using EMA crossovers
  EmaCrossover:
    parameters:
      fast_period: 9                          # Fast EMA period
      slow_period: 21                         # Slow EMA period
      min_separation_pct: 0.001               # Minimum EMA separation (0.1%)
      confidence_delta_threshold: 0.1         # Minimum confidence increase for signal
      min_signal_interval_seconds: 60         # Minimum time between signals
      eps_scale: 1.0e-8                       # Numerical stability guard
    
    optimization_metadata:
      method: "bayesian"
      num_evaluations: 30
      best_score: 0.0
      optimization_date: "pending"
      scenarios_tested: []
    
    performance_notes: |
      Optimized for:
      - Early trend change detection
      - Trend reversal scenarios
      - Double top/bottom patterns

# Global optimization settings
optimization_settings:
  
  # Scoring weights used during optimization
  scoring_weights:
    signal_quality: 0.30                      # Weight for signal precision/recall
    performance: 0.40                         # Weight for simulated P&L
    robustness: 0.20                          # Weight for stability/crash resistance
    efficiency: 0.10                          # Weight for execution speed
  
  # Objective function weights
  objective_weights:
    avg_score: 0.70                           # Weight for average scenario performance
    worst_case: 0.30                          # Weight for worst scenario (robustness)
  
  # Scenarios used for optimization
  scenarios:
    - strong_uptrend                          # Strong upward trend with pullbacks
    - strong_downtrend                        # Strong downward trend with bounces
    - sideways_ranging                        # Choppy sideways market
    - high_volatility                         # High volatility with whipsaws
    - low_volatility                          # Low volatility grind
    - trend_reversal                          # Bull to bear transition
    - breakout_pattern                        # Compression to expansion
    - flash_crash                             # Sudden crash with recovery
    - double_top                              # Double top reversal pattern
    - gap_continuation                        # Gap with continuation

# Usage guidelines
usage_guidelines:
  
  loading_parameters: |
    To load optimized parameters in your code:
    
    ```python
    import yaml
    from pathlib import Path
    
    # Load configuration
    config_path = Path('config/optimized_algorithm_params.yaml')
    with open(config_path, 'r') as f:
        config = yaml.safe_load(f)
    
    # Get parameters for specific algorithm
    algo_params = config['optimized_parameters']['SlowMovingAverage']['parameters']
    
    # Instantiate algorithm with optimized parameters
    from src.algorithms.slow_moving_average import SlowMovingAverageAlgorithm
    algorithm = SlowMovingAverageAlgorithm(
        symbols=['BTC-USD', 'ETH-USD'],
        **algo_params
    )
    ```
  
  updating_parameters: |
    After running optimization, update this file using:
    
    ```bash
    # Run optimization and export results
    python cli/scenario_optimizer_cli.py optimize SlowMovingAverage --method bayesian --iterations 30
    
    # Or run full suite with automatic config generation
    python cli/scenario_optimizer_cli.py full-suite --optimize
    ```
  
  validation: |
    Before deploying optimized parameters to production:
    
    1. Review optimization scores and ensure they meet your thresholds
    2. Validate on out-of-sample data not used in optimization
    3. Test in paper trading mode before live deployment
    4. Monitor performance metrics and adjust if needed
    5. Re-optimize periodically as market conditions change

# Version history
version_history:
  - version: "1.0.0"
    date: "2025-11-21"
    description: "Initial template with default algorithm parameters"
    optimized: false
